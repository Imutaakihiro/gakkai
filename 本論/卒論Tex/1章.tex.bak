\chapter{はじめに}
\setcounter{page}{1}
\pagenumbering{arabic}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{本研究の背景}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
消費者の行動や反応を表現するということは，人間・社会科学の大きな目的の一つであり，特に経済学と心理学の分野で幾多の研究がなされている．
これらはあるときは繋がりを持ち，あるときは互いを批判し合うことにより発展している．
特に，現実的な選択行動を取扱う離散的選択モデルでは，双方の分野の観点から各種のモデルが提示されている．
これらの成果の工学的な側面の一つの適用先として，マーケティング・サイエンスが挙げられる．

この分野の主要なモデルの一つとしてブランド選択モデルが挙げられる．
これは，商品カテゴリー及びその環境が提示されている状況で，消費者がどの商品（ブランド）を選択するのかということを記述するモデルである．
実務においても，しばしばこのモデルを用い，需要予測や価格その他のプロモーション効果の測定が行われている \cite{Pr97}．
ブランド選択モデルの多くが，離散選択モデルの応用・拡張であり，Point of Sales (POS) データ等からのパラメータ推定が可能である．
ブランド選択モデルをより精緻に記述したり，さらにその選択行動規範自体を拡張したりすることは，消費者の需要を予測する上で，実務においても重要 \cite{Lit70} となる．

精緻化，拡張を考える上で，離散選択モデルの一つの頂点にあると考えられるモデルが，Generalized Nested Logit (GNL) モデル \cite{WK01} である．
GNL モデルは，マーケティング・サイエンス分野以外の離散選択モデルの主要な適用分野である交通計画分野で開発\cite{Vov97,VB98}されたものである．
GNL モデルは，既存のモデルである，Multinomial Logit (MNL) モデル \cite{McF73} や Nested Logit (NL) モデル \cite{Ben73} が表わし得なかった柔軟な選択肢間の相関構造を，擬似的に表現することが可能である．
しかし，GNL モデルの基本的性質に関する研究は，その多くがこの擬似的な相関構造についてのみ取り上げられており，その他はほとんど行なわれていない．
また，交通計画分野においては多くの適用例があるものの，マーケティング・サイエンス分野においては皆無に等しい．
交通計画分野における適用例は，交通機関選択，経路選択といった分野であり，複数の交通機関を乗り継ぐ幹線交通や，複数の経路が存在する大都市鉄道などに限られている．
マーケティング・サイエンスで対象とする商品には，交通機関や経路と比較し相関構造を持つ多くの属性が存在し，消費者はそれらの属性を考慮して商品を選択していると考えられる．
したがって，複雑な選択肢間の属性の重複を表現し，その消費者の反応を記述するのに GNL モデルは有用であると考えられる．

マーケティング・サイエンスでは，交通計画分野と異なるこの分野特有の問題が存在する．
まず，消費者の異質性を陽に捉えることが難しい点である．
次に，現象的な側面として，消費者心理学で取り上げられている心理学的効果が挙げられる．
最後に，実務面からマーケティングに関する情報開示の問題がある．

消費者の異質性は，交通計画分野ではほとんど考慮されることがない，マーケティング・サイエンス特有の問題である．
交通計画分野では，センサス等の行動後のアンケート調査でトリップの目的やデモグラフィックな要因を得ることができ，その目的により各交通機関の料金も変わってくる．
そのため，基本的にはその目的のみで，アプリオリに消費者の異質性を捉える．
しかし，マーケティングでは，POS データ等の行動実績に基づいた把握がほとんどであり，デモグラフィックな要因を得ることが難しい．
このため，顧客の囲いこみと顧客情報の把握を目的にお客様カード等の優遇策を設け，それにより顧客の異質性を捉える動きが一般的であるが，初期登録時の情報がそのまま残り，必ずしも正確な情報の把握が可能とはいえない．
一方，消費者の異質性は，マーケティングでは消費者が複数のセグメントに属しているため\cite{Smi56} と解釈される．
そして，各セグメント内の選好関係が異なっていると考えるのである．
このセグメント分けは，年収，世帯構成といったデモグラフィックな要因だけではなく，選好が異なるという意味での潜在的なセグメント分けも広く行われている \cite{Hal68}．

選択肢間に複雑な相関関係が存在するような問題は，消費者心理学では多属性意思決定問題（例えばTversky, 1972a \cite{Tve72a}）と呼ばれ，その中で多くの心理学的効果 \cite{Tve72b} が取り上げられている．
この効果は経済学的モデルでは表現できないとされ，実際の市場やアンケート・データにより，複数の心理的効果が実際に確認されている．
これらをモデルで複数表現できることは，モデルの心理学的な妥当性をある程度補強することとなる．

情報開示に関する問題は，実際のデータ解析において，膨大なPOS データからある分析者がモデルを推定する際に顕著である．
2社以上のデータが存在し，これらが別々に得られている際に，あるメーカーに提示する結果に他のメーカーの結果をどこまで表現するのかという問題である．
具体的にはブランド・レベルで集計するのか，更に詳細なレベルで集計するのかが実務で決められるが，どちらのレベルでモデルを構築し，相手方に開示するにせよ，その集計を行なう前後では，ある種の整合性がモデル間に求められる．
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{本研究の目的}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
本研究では，GNL モデルをマーケティングへ応用することを考え，GNL モデルに関して基礎的な性質を明らかにし，適用・拡張及び効率的利用のためのツールの開発を行なう．
これらにより，GNL モデルのマーケティング分野における利用を促進することを目指す．

具体的には次の $4$ つの点を明らかにする：
\begin{enumerate}
\item GNL モデルと情報理論の関係性を集計された選択結果，パラメータ最尤推定問題双方で明らかにし，GNL モデルが価値最大化モデルであること示し，GNL モデルのパラメータの意味解釈を加える． 
\item GNL モデルをブランド選択モデルに適用，更に消費者の異質性を考慮できるように拡張して，その有用性を実際の POS データに適用することにより検証する．
\item 代表的な心理的効果である妥協効果，魅力効果，類似性効果が，GNL モデルのある構造により表現できることを示す．
\item 多くのネスト，選択肢が存在することが多い GNL モデルにおいて，選択肢，ネストの集計を行なうとき，その前後で整合的な集計が行なえる集計ルールを示す．
\end{enumerate}

1. では， GNL モデル自身が持つ情報理論的な解釈を行なう．
具体的には，その選択確率式，及びそのパラメータ最尤推定問題が，変形することにより，情報理論的に解釈できることを示す．
前者については，またその選択確率式が最適化問題へと帰着できることを示し，後に用いる．
後者については，段階的パラメータ推定問題の各段階がそれぞれ，情報理論的に解釈できることを示し，
各パラメータの制約条件が，効用最大化と整合的であるための条件と，情報理論的に整合的であるための条件とを区分する．
また，最後に，この段階推定の性質を利用した新たなパラメータ推定方法を提案する．

2. では，マーケティング分野において適用されていない GNL モデルを，代表的なマーケティング・サイエンスのモデルであるブランド選択モデルに適用する．
この適用する際に，具体的なモデルの構造を規定するネスティング・ルールを提案する．そして，それを実際のデータに適用し，パラメータ推定することで
既存の MNL，NL の各モデルとの比較を行ない，GNL モデルの優位性を示す．
さらに，構築したブランド選択モデルを消費者の異質性を考慮可能なように拡張した Latent Generalized Nested Logit (LGNL) モデルを提案する．
消費者が潜在的なセグメントに所属すると仮定し，潜在クラスの意味付けをアドホックに行う Latent Class Logit (LCL) モデルとは異なり，商品構成要素により潜在クラス分けを行なうことを提案する．
GNL モデルの検証と同様に，実際のデータに適用し，パラメータ推定することで
MNL，LCL，GNL の各モデルとの比較を行ない，LGNL モデルの優位性を示す．

3. では，GNL モデルを用いて，代表的な心理的効果である妥協効果，魅力効果，類似性効果が効用最大化と整合的に生起することを示す．
また，Simonson and Tversky (1992) \cite{ST92} でいう価値最大化モデルとして GNL モデルが解釈できることから，Simonson and Tversky (1992) \cite{ST92}  の指摘が間違っていることを示す．
これにより，心理的効果を考慮したプロダクト・ラインの拡張 \cite{BA94} 時の需要予測が可能となる．

4. では，具体的に GNL モデルを予測等に適用する場合を想定し，選択肢，ネストを集計した場合に，その前後で，選択確率，効用が整合的であるような集計ルールを提示する．
このように，集計前後で整合性がとれなくなる問題は，集計問題と呼ばれ，完全なる解決策は見つかっていない．
本研究は，限定的ながら，GNL モデルにモデル構造を特定化した上で，これを克服するものである．
GNL モデルはその構造から，多くの属性，選択肢を持つことが容易に想像され，このことから集計することに直面することが多いと考えられる．すなわち，整合性を有した集計ルールの需要は大きいといえる．

本研究は，単に経済学的な側面だけではなく，様々な側面から GNL モデルの妥当性を示すものであるともいえる．
1. については GNL モデルが情報理論の側面から持つ性質について明らかにするといえる．
2. については GNL モデルの実際の統計的側面からの性質について妥当性を示す．
3. については GNL モデルの心理学的側面からの性質について示している．
4. については実務的な側面への提案である．
これらの GNL モデルが持つ様々な性質を示すことにより， GNL モデルの妥当性を示し，マーケティング分野における利用を促進できるものと考えられる．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{本研究の構成}
本研究は，全 8 章からなる．
次章以降は次のように構成されている．

まず，2章で準備としてGNLモデルの基本的性質を示す．
3章では，GNLモデル自身に対し情報理論的な解釈を与える．
具体的には，その選択確率式，及びそのパラメータ最尤推定問題を変形することにより，情報理論的に解釈できることを示す．
前者は，その選択確率式が最適化問題の解へと帰着できることを示す．
後者は，段階的パラメータ推定問題の各段階がそれぞれ，エントロピー・モデルとして解釈できることを示し，各パラメータの制約条件を，効用最大化の際の条件と整合的なものと，情報理論的に整合的なものに区分する．
4章では，マーケティング・サイエンスにおいて未だ適用されていないGNL モデルを，代表的なマーケティング・サイエンスのモデルであるブランド選択モデルに適用する．
この際に，具体的なモデルの構造を規定するネスティング・ルールを提案する．
そして，それを実際のデータに適用し，パラメータ推定を行なうことにより，既存のMNL，NL の各モデルと比較を行ない，これにより GNL モデルの優位性を示す．
さらに，5章では構築したブランド選択モデルを消費者の異質性を考慮可能となるよう拡張したLatent Generalized Nested Logit (LGNL) モデルを提案する．
これは，消費者が潜在的なセグメントに所属すると仮定し，潜在クラスの意味付けをアドホックに行なうLatent Class Logit (LCL) モデルとは異なり，商品構成要素により潜在クラス分けを行なう方法である．
4章で用いた実データを適用し同様にパラメータ推定することにより，MNL，LCL，GNL の各モデルとの比較を行ない，LGNL モデルの優位性を示す．
6章では，GNL モデルのある構造を用いて，代表的な心理的効果である妥協効果，魅力効果，類似性効果が効用最大化と整合的に生起することを示す．
GNL モデルは，対数尤度最大化によりパラメータ推定が可能であることから，心理的効果を考慮したプロダクト・ライン拡張時の需要予測が可能となる．
7章では，具体的にGNL モデルを予測等に適用する場合を想定し，選択肢やネストを集計した場合に，その前後で，選択確率，効用が整合的であるような集計ルールを提示する．
集計前後で整合性がとれなくなる問題は，集計問題と呼ばれ，完全なる解決策は見つかっていない．
本研究は，限定的ながらモデル構造をGNL モデルに特定化した上で，これを克服する方法を示している．GNL モデルはその構造から，多くの属性，選択肢を持つことが想定され，このことから集計の際の課題に直面することが多いと考えられる．
そのため，本研究の成果である整合性を有した集計ルールの需要は大きいといえる．
最後に8章で本研究の結論と今後の展望を述べる．

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
