# GitHub移行手順：授業レベルマルチタスク学習

**作成日**: 2025年1月15日  
**目的**: GitHubに移行して別PCで授業レベルマルチタスク学習を実行

---

## 📋 実行環境の要件

### **1. ハードウェア**
```
推奨:
├── GPU: NVIDIA GPU（CUDA対応）
│   ├── VRAM: 8GB以上推奨
│   └── 例: RTX 3060以上
├── メモリ: 16GB以上
└── ストレージ: 10GB以上の空き容量
```

### **2. ソフトウェア**
```
必須:
├── Python: 3.8以上
├── CUDA: 11.0以上（GPU使用時）
├── Git: 最新版
└── 必要なライブラリ（下記参照）
```

---

## 🚀 GitHub移行手順

### **ステップ1: 現在のPCでの準備**

#### **1.1 必要なファイルの確認**
```
卒業研究（新）/
├── 00_スクリプト/
│   └── train_class_level_multitask.py ← 実行スクリプト
├── 01_データ/
│   └── マルチタスク用データ/
│       └── 授業集約データセット_20251012_142504.csv ← データ
├── .gitignore ← Git設定
└── README.md ← 説明書
```

#### **1.2 .gitignoreの確認**
既に作成済み（大きなファイルを除外）

#### **1.3 README.mdの更新**
実行手順を追加

---

### **ステップ2: GitHubへのアップロード**

#### **2.1 コマンドプロンプトで実行**
```bash
# 卒業研究ディレクトリに移動
cd "C:\Users\takahashi.DESKTOP-U0T5SUB\卒業研究（新）"

# Git初期化
git init

# リモートリポジトリ追加
git remote add origin https://github.com/Imutaakihiro/gakkai.git

# ファイルを追加
git add .

# コミット
git commit -m "授業レベルマルチタスク学習を追加"

# GitHubにプッシュ
git push -u origin main
```

---

### **ステップ3: 別PCでのセットアップ**

#### **3.1 リポジトリのクローン**
```bash
# 作業ディレクトリに移動
cd C:\Projects  # 適当なディレクトリ

# リポジトリをクローン
git clone https://github.com/Imutaakihiro/gakkai.git

# ディレクトリに移動
cd gakkai
```

#### **3.2 Python環境のセットアップ**
```bash
# 仮想環境の作成
python -m venv venv

# 仮想環境の有効化（Windows）
venv\Scripts\activate

# 必要なライブラリのインストール
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118
pip install transformers
pip install pandas numpy scikit-learn matplotlib seaborn scipy
pip install fugashi ipadic
```

#### **3.3 CUDA確認**
```bash
# GPUが使えるか確認
python -c "import torch; print(f'CUDA available: {torch.cuda.is_available()}')"
python -c "import torch; print(f'GPU: {torch.cuda.get_device_name(0) if torch.cuda.is_available() else None}')"
```

---

### **ステップ4: 学習の実行**

#### **4.1 ディレクトリ移動**
```bash
cd "00_スクリプト"
```

#### **4.2 学習開始**
```bash
python train_class_level_multitask.py
```

#### **4.3 実行中の確認事項**
```
✅ GPUが使用されているか確認
✅ エポックごとの損失を確認
✅ 検証データでのR²スコアを確認
✅ メモリ不足エラーが出ないか確認
```

---

## 📊 実行時間の推定

### **GPU使用時（推奨）**

| GPU性能 | 時間/バッチ | 1エポック | 20エポック |
|---------|-----------|----------|-----------|
| **RTX 4090** | 1〜2秒 | 3〜6分 | **1〜2時間** ⭐ |
| **RTX 3080** | 2〜3秒 | 6〜9分 | **2〜3時間** ⭐ |
| **RTX 3060** | 3〜5秒 | 9〜15分 | **3〜5時間** |
| **GTX 1660** | 5〜8秒 | 15〜24分 | **5〜8時間** |

### **CPU使用時（非推奨）**
```
時間: 約32〜96時間（1.5〜4日）
→ 現実的ではない
```

---

## 🎯 1,000授業での推定時間

### **データ量**
```
総授業数: 1,000授業（サンプリング）
学習データ: 700授業（70%）
バッチサイズ: 8
エポック数: 20
```

### **バッチ数**
```
700授業 ÷ 8 = 88バッチ/エポック
88バッチ × 20エポック = 1,760バッチ
```

### **推定時間**

| GPU性能 | 時間/バッチ | 総時間 |
|---------|-----------|--------|
| **RTX 4090** | 1〜2秒 | **30分〜1時間** ⭐⭐ |
| **RTX 3080** | 2〜3秒 | **1〜1.5時間** ⭐⭐ |
| **RTX 3060** | 3〜5秒 | **1.5〜2.5時間** ⭐ |
| **GTX 1660** | 5〜8秒 | **2.5〜4時間** |

---

## 🎯 最終推奨

### **データ量**: **1,000授業**（既に設定済み）

### **推定時間**:
- **高性能GPU**: **1〜2時間** ⭐⭐
- **中性能GPU**: **2〜4時間** ⭐
- **低性能GPU**: **4〜6時間**

### **準備完了！**

1. ✅ コードは1,000授業でサンプリング設定済み
2. ✅ 層化サンプリング実装済み
3. ✅ 進捗表示機能あり
4. ✅ 結果の自動保存機能あり

**GitHubにアップロード後、別PCで実行すればOKです！**

---

## 📝 実行後の確認事項

### **成功の判断基準**

#### **感情スコア予測**
```
期待値:
├── R²: 0.60〜0.70
├── 相関係数: 0.75〜0.85
└── RMSE: 0.15以下
```

#### **授業評価スコア予測**
```
期待値:
├── R²: 0.08〜0.15
├── 相関係数: 0.28〜0.35（元の相関0.31に近い）
└── RMSE: 0.18以下
```

#### **成功の指標**
- ✅ 授業評価スコアの相関が**0.25以上**
- ✅ R²が**0以上**（負にならない）
- ✅ 個人レベル（R²=-0.108）より大幅に改善

---

**準備完了！GitHubにアップロードして別PCで実行しましょう！**

